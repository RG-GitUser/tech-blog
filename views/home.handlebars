<!-- Homepage Handlebars Template -->
<head><script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
  <div id="homepage-template">
    <h1 id="homeTitle">Welcome to the Tech Blog!</h1>
    <div id="posts">
      {{#if blogPosts.length}}
      <h2>Latest Blog Posts</h2>
      <ul>
        {{#each blogPosts}}
        <li>
          <div class="deleteBtnContainer">
            <div class="blogPostContainer">
              <p>Title: {{name}}</p>
              <p>Content: {{description}}</p>
              <p>Date Posted: {{user_id}} on {{date_created}}</p>
              <button class="btn btn-danger deleteBtn" data-post-id="{{id}}">DELETE</button>
              <div class="comments">
                <div id="commentHead">Comments</div>
                <ul>
                  {{#each blogPost.comments}}
                  <li>{{this}}</li>
                  {{/each}}
                </ul>
              </div>
              <div id="comments">
                <ul>
                  {{#each blogPost.comments}}
                  <li>{{this}}</li>
                  {{/each}}
                </ul>
              </div>
              <form id="comment-form">
                <label id="leaveComment">Leave a comment:</label>
                <textarea id="comment" name="comment" rows="4" cols="50"></textarea>
                <button type="submit">Submit Comment</button>
              </form>
            </div>
          </div>
        </li>
        {{/each}}
      </ul>
      {{else}}
      <p>No blog posts yet.</p>
      {{/if}}
    </div>
  </div>
  
  <!-- Modal content -->
  <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="deleteModalLabel">Confirm Delete</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          Are you sure you want to delete this blog post?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-danger" id="confirmDelete">Delete</button>
        </div>
      </div>
    </div>
  </div>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"></script>

  <script src="js/home.js"></script>
</body>
</html>
